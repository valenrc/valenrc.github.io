<script>
document.addEventListener('DOMContentLoaded', (event) => {
  document.querySelectorAll('div.highlight').forEach((block) => {
    // Crear el wrapper
    const wrapper = document.createElement('div');
    wrapper.className = 'highlight-wrapper';
    
    // Mover el bloque de c贸digo dentro del wrapper
    block.parentNode.insertBefore(wrapper, block);
    wrapper.appendChild(block);
    
    // Obtener el lenguaje del bloque de c贸digo
    const language = block.querySelector('code').className.replace('language-', '');
    
    // Crear la barra de encabezado
    const header = document.createElement('div');
    header.className = 'code-header';
    
    // Agregar el nombre del lenguaje
    const langSpan = document.createElement('span');
    langSpan.className = 'code-language';
    langSpan.textContent = language;
    header.appendChild(langSpan);
    
    // Agregar el bot贸n de copiar
    const copyButton = document.createElement('button');
    copyButton.className = 'copy-button';
    copyButton.textContent = 'Copiar';
    header.appendChild(copyButton);
    
    // Insertar la barra de encabezado antes del bloque de c贸digo en el wrapper
    wrapper.insertBefore(header, block);
    
    // Funcionalidad de copiar
    copyButton.addEventListener('click', () => {
      const code = block.querySelector('code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        copyButton.textContent = 'Copiado!';
        setTimeout(() => {
          copyButton.textContent = 'Copiar';
        }, 2000);
      });
    });
  });
});
</script>